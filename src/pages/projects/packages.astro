---
import { getEntry } from 'astro:content';
import ProjectHero from '../../components/ProjectHero.astro';
import ProjectLayout from '../../layouts/ProjectLayout.astro';
import ColsLeft from '../../components/rows/ColsLeft.astro';
import CustomImage from '../../components/CustomImage.astro';
import ColsRight from '../../components/rows/ColsRight.astro';
import AboutLine from '../../components/AboutLine.astro';

const project = await getEntry('projects', 'packages');
---

<ProjectLayout>
  <ProjectHero
    title={project.data.title}
    year={project.data.year}
    subtitle={project.data.subtitle}
    category={project.data.category}
    cover={project.data.cover}
  />

  <ColsLeft title="developer tools">
    <div slot="col1">
      <AboutLine title="CLI Library" description="Quickly create components, packages, projects from boilerplates" />
      <AboutLine title="CLI Boilerplate" description="Base project architecture for new projects and components" />
      <AboutLine title="Delta Scripts Container" description="Simplified complex deployment processes" />
      <AboutLine title="S3 Deploy" description="Automated script deployment to S3" />
    </div>

    <CustomImage
      slot="col2"
      src={import('../../assets/code.jpg')}
      alt="Developer Tools and CLI"
      width={1920}
      height={1200}
    />
  </ColsLeft>

  <ColsRight title="component libraries">
    <div slot="col2">
      <AboutLine title="React Component Library" description="Reusable components across projects" />
      <AboutLine title="React Hooks Package" description="Custom hooks for common functionality" />
      <AboutLine title="All Company Modal" description="Custom element for consistent UX" />
      <AboutLine title="Multi Site Worker" description="Different domains serving same codebase" />
    </div>

    <div slot="col1" class="impact-showcase">
      <div class="showcase-header">
        <h4>Package Impact</h4>
        <p>Reusable architecture across entire portfolio</p>
      </div>

      <div class="features-list">
        <div class="feature-item">
          <div class="feature-icon">üß©</div>
          <div class="feature-text">
            <strong>Custom Elements</strong>
            <span>Cross-platform web components</span>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">‚öõÔ∏è</div>
          <div class="feature-text">
            <strong>React Components</strong>
            <span>Reusable UI component library</span>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">ü™ù</div>
          <div class="feature-text">
            <strong>Custom Hooks</strong>
            <span>Shared functionality patterns</span>
          </div>
        </div>
      </div>
    </div>
  </ColsRight>

  <ColsLeft title="analytics & monitoring">
    <div slot="col1">
      <AboutLine title="Analytics Package" description="Unified tracking and identify calls" />
      <AboutLine title="Analytics Worker" description="Server-side tracking when client blocked" />
      <AboutLine title="Uptime Bot" description="Slack bot monitoring all properties" />
      <AboutLine title="Smoke Test Bot" description="On-demand testing via Slack" />
    </div>

    <div slot="col2" class="monitoring-overview">
      <div class="overview-header">
        <h4>Comprehensive Monitoring</h4>
        <p>Proactive alerts and real-time insights</p>
      </div>

      <div class="features-list">
        <div class="feature-item">
          <div class="feature-icon">üîç</div>
          <div class="feature-text">
            <strong>24/7 Uptime Monitoring</strong>
            <span>Continuous health checks</span>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">‚ö°</div>
          <div class="feature-text">
            <strong>Real-time Slack Alerts</strong>
            <span>Instant notifications</span>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üß™</div>
          <div class="feature-text">
            <strong>On-demand Testing</strong>
            <span>Slack command integration</span>
          </div>
        </div>
      </div>
    </div>
  </ColsLeft>

  <ColsRight title="services & workers">
    <div slot="col2">
      <AboutLine title="Geo Location Worker" description="Cloudflare Worker for location-based UI" />
      <AboutLine title="Geo Location Banner" description="Cloud Worker for location-based UI" />
      <AboutLine title="Address Validation Worker" description="Complete validation system with caching" />
      <AboutLine title="Address Validation Client" description="Component for address validation" />
      <AboutLine title="Launch Darkly Integration" description="Unified feature flag implementation" />
    </div>

    <div slot="col1" class="tech-spotlight">
      <div class="spotlight-header">
        <h4>Enterprise Technologies</h4>
        <p>Production-ready cloud services</p>
      </div>

      <div class="tech-list">
        <div class="tech-item cloudflare">
          <span class="tech-name">Cloudflare Workers</span>
          <span class="tech-desc">Edge computing</span>
        </div>
        <div class="tech-item launchdarkly">
          <span class="tech-name">LaunchDarkly SDK</span>
          <span class="tech-desc">Feature flags</span>
        </div>
        <div class="tech-item caching">
          <span class="tech-name">Redis Caching</span>
          <span class="tech-desc">Performance layer</span>
        </div>
        <div class="tech-item geo">
          <span class="tech-name">Geo APIs</span>
          <span class="tech-desc">Location services</span>
        </div>
      </div>
    </div>
  </ColsRight>
</ProjectLayout>

<style>
  .impact-showcase, .monitoring-overview, .tech-spotlight {
    padding: var(--spacingXL); height: 100%; display: flex; flex-direction: column; justify-content: center;
  }
  .showcase-header, .overview-header, .spotlight-header { margin-bottom: var(--spacingXL); text-align: center; }
  .showcase-header h4, .overview-header h4, .spotlight-header h4 {
    font-size: var(--fontSizeLg); margin-bottom: var(--spacingSm); color: var(--colorTextPrimary);
  }
  .showcase-header p, .overview-header p, .spotlight-header p {
    color: var(--colorTextSecondary); font-size: var(--fontSizeSm);
  }
  .metrics-grid { display: grid; grid-template-columns: 1fr; gap: var(--spacingLg); }
  .metric {
    display: flex; align-items: center; justify-content: space-between; padding: var(--spacingMd) var(--spacingLg);
    background: linear-gradient(135deg, var(--colorBgSecondary) 0%, rgba(255,255,255,0.05) 100%);
    border-radius: var(--borderRadius); border-left: 3px solid var(--colorAccent);
  }
  .metric-value { font-size: var(--fontSizeXL); font-weight: var(--fontWeightBold); color: var(--colorAccent); }
  .metric-label { font-size: var(--fontSizeMd); color: var(--colorTextSecondary); text-align: right; }
  .features-list { display: flex; flex-direction: column; gap: var(--spacingLg); }
  .feature-item {
    display: flex; align-items: flex-start; gap: var(--spacingMd); padding: var(--spacingMd);
    background: rgba(255,255,255,0.02); border-radius: var(--borderRadius); transition: background 0.2s ease;
  }
  .feature-item:hover { background: rgba(255,255,255,0.05); }
  .feature-icon { font-size: var(--fontSizeLg); min-width: 2rem; }
  .feature-text { display: flex; flex-direction: column; gap: var(--spacingXs); }
  .feature-text strong { color: var(--colorTextPrimary); font-size: var(--fontSizeMd); }
  .feature-text span { color: var(--colorTextSecondary); font-size: var(--fontSizeSm); }
  .tech-list { display: flex; flex-direction: column; gap: var(--spacingMd); }
  .tech-item {
    display: flex; flex-direction: column; padding: var(--spacingMd) var(--spacingLg);
    border-radius: var(--borderRadius); border-left: 3px solid; transition: transform 0.2s ease;
  }
  .tech-item:hover { transform: translateX(4px); }
  .tech-item.cloudflare { border-left-color: #f38020; background: rgba(243, 128, 32, 0.1); }
  .tech-item.launchdarkly { border-left-color: #3dd6f0; background: rgba(61, 214, 240, 0.1); }
  .tech-item.caching { border-left-color: #dc382d; background: rgba(220, 56, 45, 0.1); }
  .tech-item.geo { border-left-color: #4caf50; background: rgba(76, 175, 80, 0.1); }
  .tech-name { font-weight: var(--fontWeightMd); color: var(--colorTextPrimary); margin-bottom: var(--spacingXs); }
  .tech-desc { font-size: var(--fontSizeSm); color: var(--colorTextSecondary); }
</style>
